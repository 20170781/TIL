# 절대경로

## 절대 경로, 상대 경로

내가 지금 있는 파일 기준으로 다른 파일을 찾아가는 것을 상대 경로라 하고, URL과 같이 고정된 변수(링크)가 있어 어느 곳에서 사용하든 같은 경로로 이동하는 것을 절대 경로라고 한다.

상대 경로: '../../src/components/test'

절대 경로: 'components/test'



## 사용

### 1. 타입스크립트와 Gatsby 환경

#### 1) `tsconfig.json`의 `paths` 옵션

```json
// tsconfig.json
{
	"compilerOptions": {
		...
		"baseUrl": "./src",
		"paths": {
			"components/*": ["./components/*"],
      		"utils/*": ["./utils/*"],
      		"hooks/*": ["./hooks/*"]
		}
	}
}
```

`baseUrl`에 기반이 되는 경로 작성, `baseUrl` 기준으로 `paths` 작성



```json
// 이런 방식도 가능하다.
	"baseUrl": ".",
    "paths": {
      	"@components/*": ["src/components/*"],
      	"@utils/*": ["src/utils/*"],
      	"@hooks/*": ["src/hooks/*"]
```

@를 붙이는건 자기 맘이다.



#### 2) `gatsby-node.js` 파일에 **Webpack Config** 추가

```js
const path = require('path');

// Setup Import Alias
exports.onCreateWebpackConfig = ({ getConfig, actions }) => {
  const output = getConfig().output || {};

  actions.setWebpackConfig({
    output,
    resolve: {
      alias: {
        components: path.resolve(__dirname, 'src/components'),
        utils: path.resolve(__dirname, 'src/utils'),
        hooks: path.resolve(__dirname, 'src/hooks'),
      },
    },
  });
};
```

alias 옵션에서 경로를 해당 폴더로 매핑해주어 절대 경로를 사용할 수 있게 해준다.



### 2. TypeScript만 있는 환경

#### 1) `tsconfig.json` 에서의 `path` 설정은 동일하다.

#### 2) WebPack 사용 시

`webpack.config.js`에서 아래와 같이 설정을 추가해주어야 한다. (gatsby-node.js안의 `resolve`와 동일)

```js
const path = require('path');

module.exports = {
  ...
	resolve: {
		alias: {
			'@src': path.resolve(__dirname, 'src')
		},
	},
};
```

#### 3) 그 외

ts-node, 배포 시스템(tm2)을 사용하거나 ESLint에서 절대 경로에 대한 오류를 나타낼 시, [이 링크](https://chanyeong.com/blog/post/35)를 참고하면 된다. 



